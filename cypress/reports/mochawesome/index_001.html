<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:7,&quot;tests&quot;:29,&quot;passes&quot;:26,&quot;pending&quot;:0,&quot;failures&quot;:3,&quot;testsRegistered&quot;:29,&quot;passPercent&quot;:89.65517241379311,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;start&quot;:&quot;2025-05-13T08:09:13.973Z&quot;,&quot;end&quot;:&quot;2025-05-13T08:10:31.781Z&quot;,&quot;duration&quot;:77808},&quot;results&quot;:[{&quot;uuid&quot;:&quot;a0242638-1dcb-4755-bb13-13442544b91e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ee63021f-75a2-40ff-bfce-d707e355bcee&quot;,&quot;title&quot;:&quot;Login Test&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should display login form&quot;,&quot;fullTitle&quot;:&quot;Login Test Should display login form&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:1229,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(`input[data-cy=\&quot;login-input-username\&quot;]`).should(&#x27;be.visible&#x27;);\ncy.get(`input[data-cy=\&quot;login-input-password\&quot;]`).should(&#x27;be.visible&#x27;);\ncy.get(`button[data-cy=\&quot;login-submit\&quot;]`).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51418494-c10b-4a65-8a70-adcc253bbe42&quot;,&quot;parentUUID&quot;:&quot;ee63021f-75a2-40ff-bfce-d707e355bcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to login with empty credentials&quot;,&quot;fullTitle&quot;:&quot;Login Test Should fail to login with empty credentials&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:542,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;[data-cy=\&quot;login-submit\&quot;]&#x27;).click();\ncy.get(&#x27;[data-cy=\&quot;login-errors\&quot;]&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;contain.text&#x27;, &#x27;Merci de remplir correctement tous les champs&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8ee59d3-387c-465d-9de2-92c1177f3373&quot;,&quot;parentUUID&quot;:&quot;ee63021f-75a2-40ff-bfce-d707e355bcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to login with incorrect credentials&quot;,&quot;fullTitle&quot;:&quot;Login Test Should fail to login with incorrect credentials&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:1128,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;[data-cy=\&quot;login-input-username\&quot;]&#x27;).type(&#x27;wrongUser&#x27;);\ncy.get(&#x27;[data-cy=\&quot;login-input-password\&quot;]&#x27;).type(&#x27;wrongPassword&#x27;);\ncy.get(&#x27;[data-cy=\&quot;login-submit\&quot;]&#x27;).click();\ncy.get(&#x27;[data-cy=\&quot;login-errors\&quot;]&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;contain.text&#x27;, &#x27;Merci de remplir correctement tous les champs&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87d72d3c-6b3e-47dc-a958-b248f425fed8&quot;,&quot;parentUUID&quot;:&quot;ee63021f-75a2-40ff-bfce-d707e355bcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should login successfully with correct credentials&quot;,&quot;fullTitle&quot;:&quot;Login Test should login successfully with correct credentials&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:4316,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;[data-cy=\&quot;login-input-username\&quot;]&#x27;).type(&#x27;test2@test.fr&#x27;);\ncy.get(&#x27;[data-cy=\&quot;login-input-password\&quot;]&#x27;).type(&#x27;testtest&#x27;);\ncy.get(&#x27;[data-cy=\&quot;login-submit\&quot;]&#x27;).click();\ncy.get(&#x27;[data-cy=\&quot;nav-link-cart\&quot;]&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e08eb68-a0e8-4c44-b8aa-632167cd9e01&quot;,&quot;parentUUID&quot;:&quot;ee63021f-75a2-40ff-bfce-d707e355bcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;51418494-c10b-4a65-8a70-adcc253bbe42&quot;,&quot;d8ee59d3-387c-465d-9de2-92c1177f3373&quot;,&quot;87d72d3c-6b3e-47dc-a958-b248f425fed8&quot;,&quot;1e08eb68-a0e8-4c44-b8aa-632167cd9e01&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7215,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9d4b8c1e-f125-4c2b-9eff-e2b0ae5687a0&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smokeTests.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smokeTests.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c63c6e27-fa3e-4c68-9975-ad5086ff343a&quot;,&quot;title&quot;:&quot;Login smoke tests&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smokeTests.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smokeTests.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ca1e0ce2-a1e7-48d7-a609-66dd94cf758e&quot;,&quot;title&quot;:&quot;Form login Test&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;fields from login form should be visible&quot;,&quot;fullTitle&quot;:&quot;Login smoke tests Form login Test fields from login form should be visible&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:1875,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;page.fields.forEach(field =&gt; {\n  cy.get(`input[data-cy=\&quot;${page.prefix}-input-${field}\&quot;]`).should(&#x27;be.visible&#x27;);\n});\ncy.get(`button[data-cy=\&quot;${page.prefix}-submit\&quot;]`).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0be2ad60-cb8c-4a1a-916a-36adc1a13d8f&quot;,&quot;parentUUID&quot;:&quot;ca1e0ce2-a1e7-48d7-a609-66dd94cf758e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0be2ad60-cb8c-4a1a-916a-36adc1a13d8f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1875,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;74bc0686-f9ab-47e7-9817-a2dd7e222578&quot;,&quot;title&quot;:&quot;Form register Test&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;fields from register form should be visible&quot;,&quot;fullTitle&quot;:&quot;Login smoke tests Form register Test fields from register form should be visible&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:677,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;page.fields.forEach(field =&gt; {\n  cy.get(`input[data-cy=\&quot;${page.prefix}-input-${field}\&quot;]`).should(&#x27;be.visible&#x27;);\n});\ncy.get(`button[data-cy=\&quot;${page.prefix}-submit\&quot;]`).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0440bd4-589f-460d-a931-67825412db29&quot;,&quot;parentUUID&quot;:&quot;74bc0686-f9ab-47e7-9817-a2dd7e222578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0440bd4-589f-460d-a931-67825412db29&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:677,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a98ea43f-2324-4372-b420-2ad134536d6e&quot;,&quot;title&quot;:&quot;Products smoke tests&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smokeTests.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smokeTests.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should display \&quot;Ajout au panier\&quot; button and stock for each product&quot;,&quot;fullTitle&quot;:&quot;Products smoke tests Should display \&quot;Ajout au panier\&quot; button and stock for each product&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:2761,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;// Aller sur la page des produits\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/products`);\n// Tester chaque page produit de 3 à 10\nfor (let id = 3; id &lt;= 10; id++) {\n  cy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/products/${id}`);\n  cy.get(&#x27;p[data-cy=\&quot;detail-product-stock\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\n  cy.get(&#x27;button[data-cy=\&quot;detail-product-add\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e846d47b-221c-4c51-9a50-a5b9d4b925f1&quot;,&quot;parentUUID&quot;:&quot;a98ea43f-2324-4372-b420-2ad134536d6e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e846d47b-221c-4c51-9a50-a5b9d4b925f1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2761,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9bcf4465-0e90-4c85-a722-2f7ecd5655c4&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\login.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\login.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3dde2852-4323-4017-a197-4e79d5a50001&quot;,&quot;title&quot;:&quot;API /login endpoint tests&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\login.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\login.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 200 with valid credentials&quot;,&quot;fullTitle&quot;:&quot;API /login endpoint tests should return 200 with valid credentials&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:946,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.login(\&quot;test2@test.fr\&quot;, \&quot;testtest\&quot;).then(response =&gt; {\n  expect(response.status).to.eq(200);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;501521e7-2bb4-4a8e-8cc7-9c19d66c6ea0&quot;,&quot;parentUUID&quot;:&quot;3dde2852-4323-4017-a197-4e79d5a50001&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 with invalid credentials&quot;,&quot;fullTitle&quot;:&quot;API /login endpoint tests should return 401 with invalid credentials&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:258,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.login(\&quot;invalid\&quot;, \&quot;invalid\&quot;).then(response =&gt; {\n  expect(response.status).to.eq(401);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d2595ca-df80-4f73-8c53-e61761a501ad&quot;,&quot;parentUUID&quot;:&quot;3dde2852-4323-4017-a197-4e79d5a50001&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 with empty fields&quot;,&quot;fullTitle&quot;:&quot;API /login endpoint tests should return 401 with empty fields&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:248,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.login(\&quot;\&quot;, \&quot;\&quot;).then(response =&gt; {\n  expect(response.status).to.eq(401);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;589cc93f-97f2-4412-8ef9-d10eaca604f6&quot;,&quot;parentUUID&quot;:&quot;3dde2852-4323-4017-a197-4e79d5a50001&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 with 40 characters fields&quot;,&quot;fullTitle&quot;:&quot;API /login endpoint tests should return 401 with 40 characters fields&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:247,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;const moreThanMaxLength = Cypress._.repeat(\&quot;asdf\&quot;, 10);\ncy.login(moreThanMaxLength, moreThanMaxLength).then(response =&gt; {\n  expect(response.status).to.eq(401);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79f5620b-6d92-4ae5-be46-d656b44d2df0&quot;,&quot;parentUUID&quot;:&quot;3dde2852-4323-4017-a197-4e79d5a50001&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;501521e7-2bb4-4a8e-8cc7-9c19d66c6ea0&quot;,&quot;0d2595ca-df80-4f73-8c53-e61761a501ad&quot;,&quot;589cc93f-97f2-4412-8ef9-d10eaca604f6&quot;,&quot;79f5620b-6d92-4ae5-be46-d656b44d2df0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1699,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a12180cc-5681-4a7f-ab79-399b458f99cb&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\orders.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\orders.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4a7061d0-5acd-42c3-a0d3-4d39d6262b31&quot;,&quot;title&quot;:&quot;API GET /orders endpoint tests&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\orders.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\orders.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should return 401 when accessing /orders without authentication&quot;,&quot;fullTitle&quot;:&quot;API GET /orders endpoint tests Should return 401 when accessing /orders without authentication&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:1125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;GET&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders`,\n  failOnStatusCode: false // Évite que Cypress arrête le test sur un code d&#x27;erreur\n}).then(response =&gt; {\n  expect(response.status).to.eq(401);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ce06a3b-6c58-45a9-ab62-2d37c579d651&quot;,&quot;parentUUID&quot;:&quot;4a7061d0-5acd-42c3-a0d3-4d39d6262b31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 200 when accessing /orders with authentication&quot;,&quot;fullTitle&quot;:&quot;API GET /orders endpoint tests Should return 200 when accessing /orders with authentication&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:299,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;GET&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(200); // Vérifie que l&#x27;accès est autorisé après login\n  expect(response.body).to.have.property(&#x27;orderLines&#x27;).and.to.be.an(&#x27;array&#x27;); // Vérifie que le panier s&#x27;affiche\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e265b690-65cb-4967-a53d-11124832db4b&quot;,&quot;parentUUID&quot;:&quot;4a7061d0-5acd-42c3-a0d3-4d39d6262b31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return cart list when accessing /orders with authentication&quot;,&quot;fullTitle&quot;:&quot;API GET /orders endpoint tests Should return cart list when accessing /orders with authentication&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:723,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;const validProductId = 9; // ID d&#x27;un produit disponible\nconst testQuantity = 2; // Quantité valide\ncy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    product: validProductId,\n    quantity: testQuantity\n  },\n  failOnStatusCode: false\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n});\ncy.request({\n  method: &#x27;GET&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  }\n}).then(response =&gt; {\n  expect(response.body).to.have.property(&#x27;orderLines&#x27;).and.to.be.an(&#x27;array&#x27;).with.length.greaterThan(0); // Vérifie que le panier s&#x27;affiche\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edb62f5b-863e-4f6b-a8dc-15aa0d830bab&quot;,&quot;parentUUID&quot;:&quot;4a7061d0-5acd-42c3-a0d3-4d39d6262b31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4ce06a3b-6c58-45a9-ab62-2d37c579d651&quot;,&quot;e265b690-65cb-4967-a53d-11124832db4b&quot;,&quot;edb62f5b-863e-4f6b-a8dc-15aa0d830bab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2147,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2980bcec-04a5-4662-9371-1bca39194356&quot;,&quot;title&quot;:&quot;API POST /orders/add endpoint tests&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\orders.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\orders.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully add a product to the cart&quot;,&quot;fullTitle&quot;:&quot;API POST /orders/add endpoint tests Should successfully add a product to the cart&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:1304,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    product: validProductId,\n    quantity: testQuantity\n  },\n  failOnStatusCode: false\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n  expect(response.body).to.have.property(&#x27;orderLines&#x27;).and.to.be.an(&#x27;array&#x27;).with.length.greaterThan(0);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acdca488-909f-4f24-93b1-4c1ea196faf3&quot;,&quot;parentUUID&quot;:&quot;2980bcec-04a5-4662-9371-1bca39194356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding a product with a negative quantity&quot;,&quot;fullTitle&quot;:&quot;API POST /orders/add endpoint tests Should return 400 when adding a product with a negative quantity&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:421,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    product: validProductId,\n    quantity: -1\n  },\n  failOnStatusCode: false\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f1846be-09f0-4f5f-886c-cff9dfefc82e&quot;,&quot;parentUUID&quot;:&quot;2980bcec-04a5-4662-9371-1bca39194356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding a product with a non-numeric quantity&quot;,&quot;fullTitle&quot;:&quot;API POST /orders/add endpoint tests Should return 400 when adding a product with a non-numeric quantity&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:410,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    product: validProductId,\n    quantity: \&quot;abc\&quot;\n  },\n  failOnStatusCode: false\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6117a470-0c78-4e0e-b47a-d261659991c7&quot;,&quot;parentUUID&quot;:&quot;2980bcec-04a5-4662-9371-1bca39194356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding an out-of-stock product&quot;,&quot;fullTitle&quot;:&quot;API POST /orders/add endpoint tests Should return 400 when adding an out-of-stock product&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:680,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    product: outOfStockProductId,\n    quantity: testQuantity\n  },\n  failOnStatusCode: false\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 200 to equal 400&quot;,&quot;estack&quot;:&quot;AssertionError: expected 200 to equal 400\n    at Context.eval (webpack:///./cypress/e2e/API tests/orders.cy.js:146:33)\n    at getRet (http://localhost:8080/__cypress/runner/cypress_runner.js:119616:20)\n    at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:8080/__cypress/runner/cypress_runner.js:4285:29)\n    at Context.thenFn (http://localhost:8080/__cypress/runner/cypress_runner.js:119627:66)\n    at Context.then (http://localhost:8080/__cypress/runner/cypress_runner.js:119878:21)&quot;,&quot;diff&quot;:&quot;- 200\n+ 400\n&quot;},&quot;uuid&quot;:&quot;629282be-2a49-42b7-b54a-945d89a992b2&quot;,&quot;parentUUID&quot;:&quot;2980bcec-04a5-4662-9371-1bca39194356&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;acdca488-909f-4f24-93b1-4c1ea196faf3&quot;,&quot;7f1846be-09f0-4f5f-886c-cff9dfefc82e&quot;,&quot;6117a470-0c78-4e0e-b47a-d261659991c7&quot;],&quot;failures&quot;:[&quot;629282be-2a49-42b7-b54a-945d89a992b2&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2815,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2e15af01-065c-48aa-9986-84960fa6314a&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\products.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\products.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7319a92f-0ca0-4f62-bdbb-c75e50f8c6d4&quot;,&quot;title&quot;:&quot;Display specific product page&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\products.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\products.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should return 200 for for each /products:id&quot;,&quot;fullTitle&quot;:&quot;Display specific product page Should return 200 for for each /products:id&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:2435,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;let productIds = [];\ncy.request({\n  method: &#x27;GET&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/products`\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n  productIds = response.body;\n  productIds.forEach(product =&gt; {\n    cy.request({\n      method: &#x27;GET&#x27;,\n      url: `${Cypress.env(&#x27;apiUrl&#x27;)}/products/${product.id}`\n    }).then(response =&gt; {\n      expect(response.status).to.eq(200);\n      expect(response.body).to.have.property(&#x27;id&#x27;, product.id);\n    });\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73864d63-9987-4c7c-b47d-c311f14946a1&quot;,&quot;parentUUID&quot;:&quot;7319a92f-0ca0-4f62-bdbb-c75e50f8c6d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;73864d63-9987-4c7c-b47d-c311f14946a1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2435,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e7e1ff67-aece-4c0d-a59a-66abb3db4b88&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\reviews.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\reviews.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;42c4a0d3-4b0a-4396-b520-ca57b0dde862&quot;,&quot;title&quot;:&quot;API /reviews endpoint tests&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API tests\\reviews.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API tests\\reviews.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully add a review&quot;,&quot;fullTitle&quot;:&quot;API /reviews endpoint tests Should successfully add a review&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:1292,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;POST&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/reviews`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    title: \&quot;Super produit\&quot;,\n    comment: \&quot;J&#x27;ai adoré ce produit, très bonne qualité !\&quot;,\n    rating: 5\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2de67f7e-1432-418d-bc5e-74f6b4920880&quot;,&quot;parentUUID&quot;:&quot;42c4a0d3-4b0a-4396-b520-ca57b0dde862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding a review with empty title&quot;,&quot;fullTitle&quot;:&quot;API /reviews endpoint tests Should return 400 when adding a review with empty title&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:403,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;POST&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/reviews`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    title,\n    comment,\n    rating\n  },\n  failOnStatusCode: false // Empêche Cypress d&#x27;arrêter sur une erreur HTTP\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;505f0dda-1910-4bfc-ac25-97213c034af6&quot;,&quot;parentUUID&quot;:&quot;42c4a0d3-4b0a-4396-b520-ca57b0dde862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding a review with empty comment&quot;,&quot;fullTitle&quot;:&quot;API /reviews endpoint tests Should return 400 when adding a review with empty comment&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:456,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;POST&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/reviews`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    title,\n    comment,\n    rating\n  },\n  failOnStatusCode: false // Empêche Cypress d&#x27;arrêter sur une erreur HTTP\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41cd3410-d080-47ef-9fd4-70d861f7c5da&quot;,&quot;parentUUID&quot;:&quot;42c4a0d3-4b0a-4396-b520-ca57b0dde862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding a review with empty rating&quot;,&quot;fullTitle&quot;:&quot;API /reviews endpoint tests Should return 400 when adding a review with empty rating&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:908,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;POST&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/reviews`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    title,\n    comment,\n    rating\n  },\n  failOnStatusCode: false // Empêche Cypress d&#x27;arrêter sur une erreur HTTP\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 500 to equal 400&quot;,&quot;estack&quot;:&quot;AssertionError: expected 500 to equal 400\n    at Context.eval (webpack:///./cypress/e2e/API tests/reviews.cy.js:48:35)\n    at getRet (http://localhost:8080/__cypress/runner/cypress_runner.js:119616:20)\n    at tryCatcher (http://localhost:8080/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:8080/__cypress/runner/cypress_runner.js:4285:29)\n    at Context.thenFn (http://localhost:8080/__cypress/runner/cypress_runner.js:119627:66)\n    at Context.then (http://localhost:8080/__cypress/runner/cypress_runner.js:119878:21)&quot;,&quot;diff&quot;:&quot;- 500\n+ 400\n&quot;},&quot;uuid&quot;:&quot;ee085f7e-2449-4e03-8b25-4af650b07660&quot;,&quot;parentUUID&quot;:&quot;42c4a0d3-4b0a-4396-b520-ca57b0dde862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding a review with rating below range&quot;,&quot;fullTitle&quot;:&quot;API /reviews endpoint tests Should return 400 when adding a review with rating below range&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:305,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;POST&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/reviews`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    title,\n    comment,\n    rating\n  },\n  failOnStatusCode: false // Empêche Cypress d&#x27;arrêter sur une erreur HTTP\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91d2d4a4-c139-4fc2-8d40-e0a0a1622c72&quot;,&quot;parentUUID&quot;:&quot;42c4a0d3-4b0a-4396-b520-ca57b0dde862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 400 when adding a review with rating above range&quot;,&quot;fullTitle&quot;:&quot;API /reviews endpoint tests Should return 400 when adding a review with rating above range&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:314,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;POST&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/reviews`,\n  headers: {\n    Authorization: `Bearer ${authToken}`\n  },\n  body: {\n    title,\n    comment,\n    rating\n  },\n  failOnStatusCode: false // Empêche Cypress d&#x27;arrêter sur une erreur HTTP\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7cb6035-eacf-49aa-af6f-0ac15919f345&quot;,&quot;parentUUID&quot;:&quot;42c4a0d3-4b0a-4396-b520-ca57b0dde862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2de67f7e-1432-418d-bc5e-74f6b4920880&quot;,&quot;505f0dda-1910-4bfc-ac25-97213c034af6&quot;,&quot;41cd3410-d080-47ef-9fd4-70d861f7c5da&quot;,&quot;91d2d4a4-c139-4fc2-8d40-e0a0a1622c72&quot;,&quot;f7cb6035-eacf-49aa-af6f-0ac15919f345&quot;],&quot;failures&quot;:[&quot;ee085f7e-2449-4e03-8b25-4af650b07660&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3678,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1ef681fd-b6cc-448c-bd55-f52ed89da268&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d707bbfe-3eaf-4a9d-a2d3-086c22d88a4e&quot;,&quot;title&quot;:&quot;Order Placement Test&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should add a product to the cart&quot;,&quot;fullTitle&quot;:&quot;Order Placement Test should add a product to the cart&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:19192,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;let orderAmount = 1;\nlet id = 3;\nlet initialStock; // Stock du produit avant ajout au panier\ncy.intercept(&#x27;GET&#x27;, `${Cypress.env(&#x27;apiUrl&#x27;)}/products/${id}`).as(&#x27;getProduct&#x27;);\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/products/${id}`);\n// Récupération du stock\ncy.request({\n  method: &#x27;GET&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/products/${id}`,\n  // adapte avec l&#x27;ID de ton produit\n  headers: {\n    Authorization: `Bearer ${window.localStorage.getItem(&#x27;token&#x27;)}`\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n  // Supposons que la réponse ressemble à : { id: 123, name: \&quot;...\&quot;, stock: 8 }\n  initialStock = response.body.availableStock;\n  cy.log(`Stock initial (via API) : ${initialStock}`);\n});\ncy.wait(&#x27;@getProduct&#x27;); // Pour laisser le stock s&#x27;afficher\ncy.get(&#x27;[data-cy=\&quot;detail-product-quantity\&quot;]&#x27;).clear().type(orderAmount);\ncy.get(&#x27;[data-cy=\&quot;detail-product-add\&quot;]&#x27;).click();\n// Le produit s&#x27;affiche dans le panier\ncy.intercept(&#x27;GET&#x27;, `${Cypress.env(&#x27;apiUrl&#x27;)}/orders`).as(&#x27;getOrders&#x27;);\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/cart`);\ncy.wait(&#x27;@getOrders&#x27;);\ncy.get(&#x27;[data-cy=\&quot;cart-line\&quot;]&#x27;).should(&#x27;exist&#x27;);\ncy.get(&#x27;[data-cy=\&quot;cart-line-image\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\ncy.get(&#x27;[data-cy=\&quot;cart-line-name\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\ncy.get(&#x27;[data-cy=\&quot;cart-line-quantity\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\ncy.get(&#x27;[data-cy=\&quot;cart-line-total\&quot;]&#x27;).should(&#x27;be.visible&#x27;);\ncy.intercept(&#x27;GET&#x27;, `${Cypress.env(&#x27;apiUrl&#x27;)}/products/${id}`).as(&#x27;getProductAfterAdd&#x27;);\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/products/${id}`);\ncy.request({\n  method: &#x27;GET&#x27;,\n  url: `${Cypress.env(&#x27;apiUrl&#x27;)}/products/${id}`,\n  // adapte avec l&#x27;ID de ton produit\n  headers: {\n    Authorization: `Bearer ${window.localStorage.getItem(&#x27;token&#x27;)}`\n  }\n}).then(response =&gt; {\n  const finalStock = response.body.availableStock;\n  cy.log(`Stock après ajout : ${finalStock}`);\n  expect(finalStock).to.eq(initialStock - 1);\n});\ncy.wait(&#x27;@getProductAfterAdd&#x27;);\n// Vide le panier\ncy.intercept(&#x27;GET&#x27;, `${Cypress.env(&#x27;apiUrl&#x27;)}/orders`).as(&#x27;getOrders&#x27;);\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/cart`);\ncy.wait(&#x27;@getOrders&#x27;);\ncy.get(&#x27;[data-cy=\&quot;cart-line-delete\&quot;]&#x27;).each(trashBtn =&gt; {\n  cy.wrap(trashBtn).click();\n});\ncy.get(&#x27;[data-cy=\&quot;cart-line\&quot;]&#x27;).should(&#x27;not.exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;794fa4df-bccd-4ef8-8a7e-f109318965f6&quot;,&quot;parentUUID&quot;:&quot;d707bbfe-3eaf-4a9d-a2d3-086c22d88a4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT add a out of stock product&quot;,&quot;fullTitle&quot;:&quot;Order Placement Test should NOT add a out of stock product&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:5781,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;let outOfStockProduct = 3; //ID d&#x27;un produit en rupture\ncy.intercept(&#x27;GET&#x27;, `${Cypress.env(&#x27;apiUrl&#x27;)}/products/${outOfStockProduct}`).as(&#x27;getProduct&#x27;);\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/products/${outOfStockProduct}`);\ncy.wait(&#x27;@getProduct&#x27;);\ncy.get(&#x27;[data-cy=\&quot;detail-product-form\&quot;]&#x27;).should(&#x27;not.be.visible&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: Timed out retrying after 4000ms: expected &#x27;&lt;div#product-cart.ng-untouched.ng-pristine.ng-valid&gt;&#x27; not to be &#x27;visible&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: Timed out retrying after 4000ms: expected &#x27;&lt;div#product-cart.ng-untouched.ng-pristine.ng-valid&gt;&#x27; not to be &#x27;visible&#x27;\n    at Context.eval (webpack:///./cypress/e2e/cart.cy.js:96:46)&quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;b3d31a66-5655-431b-807f-44ec7fd2680d&quot;,&quot;parentUUID&quot;:&quot;d707bbfe-3eaf-4a9d-a2d3-086c22d88a4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT add a product to the cart with negative amount&quot;,&quot;fullTitle&quot;:&quot;Order Placement Test should NOT add a product to the cart with negative amount&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:2776,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;let negativeAmount = -1;\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/products`);\ncy.get(&#x27;[data-cy=\&quot;product-link\&quot;]&#x27;).last().click();\ncy.get(&#x27;[data-cy=\&quot;detail-product-quantity\&quot;]&#x27;).clear().type(negativeAmount);\ncy.get(&#x27;[data-cy=\&quot;detail-product-add\&quot;]&#x27;).click();\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/cart`);\ncy.get(&#x27;[data-cy=\&quot;cart-line\&quot;]&#x27;).should(&#x27;not.exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82232a53-484f-4079-b13e-8b2aeabe138f&quot;,&quot;parentUUID&quot;:&quot;d707bbfe-3eaf-4a9d-a2d3-086c22d88a4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT add a product to the cart with high amount&quot;,&quot;fullTitle&quot;:&quot;Order Placement Test should NOT add a product to the cart with high amount&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:3164,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;let highAmount = 20;\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/products`);\ncy.get(&#x27;[data-cy=\&quot;product-link\&quot;]&#x27;).last().click();\ncy.get(&#x27;[data-cy=\&quot;detail-product-quantity\&quot;]&#x27;).clear().type(highAmount);\ncy.get(&#x27;[data-cy=\&quot;detail-product-add\&quot;]&#x27;).click();\ncy.intercept(&#x27;GET&#x27;, `${Cypress.env(&#x27;apiUrl&#x27;)}/orders`).as(&#x27;getOrders&#x27;);\ncy.visit(`${Cypress.env(&#x27;baseUrl&#x27;)}/#/cart`);\ncy.wait(&#x27;@getOrders&#x27;);\ncy.get(&#x27;[data-cy=\&quot;cart-line\&quot;]&#x27;).should(&#x27;not.exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c05ae20c-fcbd-40d3-bebe-aeaa275d0171&quot;,&quot;parentUUID&quot;:&quot;d707bbfe-3eaf-4a9d-a2d3-086c22d88a4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;794fa4df-bccd-4ef8-8a7e-f109318965f6&quot;,&quot;82232a53-484f-4079-b13e-8b2aeabe138f&quot;,&quot;c05ae20c-fcbd-40d3-bebe-aeaa275d0171&quot;],&quot;failures&quot;:[&quot;b3d31a66-5655-431b-807f-44ec7fd2680d&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30913,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:false,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;cypress\\reports\\mochawesome\\.jsons&quot;,&quot;overwrite&quot;:false,&quot;html&quot;:false,&quot;json&quot;:true},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index.html&quot;,&quot;reportDir&quot;:&quot;C:\\Users\\kphan\\Desktop\\OPENCLASS\\10-Automate\\TesteurLogiciel_2\\cypress\\reports\\mochawesome&quot;,&quot;reportTitle&quot;:&quot;TesteurLogiciel_2&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;C:\\Users\\kphan\\Desktop\\OPENCLASS\\10-Automate\\TesteurLogiciel_2\\cypress\\reports\\mochawesome\\assets&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\kphan\\Desktop\\OPENCLASS\\10-Automate\\TesteurLogiciel_2\\cypress\\reports\\mochawesome\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>